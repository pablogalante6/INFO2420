(()=>{(()=>{var Lt={3156:function(T,b,_){(function(N,O){T.exports=b=O()})(this,function(){var N=N||function(O,G){var I;if(typeof window!="undefined"&&window.crypto&&(I=window.crypto),typeof self!="undefined"&&self.crypto&&(I=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(I=globalThis.crypto),!I&&typeof window!="undefined"&&window.msCrypto&&(I=window.msCrypto),!I&&typeof _.g!="undefined"&&_.g.crypto&&(I=_.g.crypto),!I)try{I=_(477)}catch(o){}var H=function(){if(I){if(typeof I.getRandomValues=="function")try{return I.getRandomValues(new Uint32Array(1))[0]}catch(o){}if(typeof I.randomBytes=="function")try{return I.randomBytes(4).readInt32LE()}catch(o){}}throw new Error("Native crypto module could not be used to get secure random number.")},z=Object.create||function(){function o(){}return function(p){var g;return o.prototype=p,g=new o,o.prototype=null,g}}(),K={},X=K.lib={},J=X.Base=function(){return{extend:function(o){var p=z(this);return o&&p.mixIn(o),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var o=this.extend();return o.init.apply(o,arguments),o},init:function(){},mixIn:function(o){for(var p in o)o.hasOwnProperty(p)&&(this[p]=o[p]);o.hasOwnProperty("toString")&&(this.toString=o.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),D=X.WordArray=J.extend({init:function(o,p){o=this.words=o||[],p!=G?this.sigBytes=p:this.sigBytes=o.length*4},toString:function(o){return(o||U).stringify(this)},concat:function(o){var p=this.words,g=o.words,y=this.sigBytes,x=o.sigBytes;if(this.clamp(),y%4)for(var w=0;w<x;w++){var j=g[w>>>2]>>>24-w%4*8&255;p[y+w>>>2]|=j<<24-(y+w)%4*8}else for(var V=0;V<x;V+=4)p[y+V>>>2]=g[V>>>2];return this.sigBytes+=x,this},clamp:function(){var o=this.words,p=this.sigBytes;o[p>>>2]&=4294967295<<32-p%4*8,o.length=O.ceil(p/4)},clone:function(){var o=J.clone.call(this);return o.words=this.words.slice(0),o},random:function(o){for(var p=[],g=0;g<o;g+=4)p.push(H());return new D.init(p,o)}}),Y=K.enc={},U=Y.Hex={stringify:function(o){for(var p=o.words,g=o.sigBytes,y=[],x=0;x<g;x++){var w=p[x>>>2]>>>24-x%4*8&255;y.push((w>>>4).toString(16)),y.push((w&15).toString(16))}return y.join("")},parse:function(o){for(var p=o.length,g=[],y=0;y<p;y+=2)g[y>>>3]|=parseInt(o.substr(y,2),16)<<24-y%8*4;return new D.init(g,p/2)}},B=Y.Latin1={stringify:function(o){for(var p=o.words,g=o.sigBytes,y=[],x=0;x<g;x++){var w=p[x>>>2]>>>24-x%4*8&255;y.push(String.fromCharCode(w))}return y.join("")},parse:function(o){for(var p=o.length,g=[],y=0;y<p;y++)g[y>>>2]|=(o.charCodeAt(y)&255)<<24-y%4*8;return new D.init(g,p)}},f=Y.Utf8={stringify:function(o){try{return decodeURIComponent(escape(B.stringify(o)))}catch(p){throw new Error("Malformed UTF-8 data")}},parse:function(o){return B.parse(unescape(encodeURIComponent(o)))}},S=X.BufferedBlockAlgorithm=J.extend({reset:function(){this._data=new D.init,this._nDataBytes=0},_append:function(o){typeof o=="string"&&(o=f.parse(o)),this._data.concat(o),this._nDataBytes+=o.sigBytes},_process:function(o){var p,g=this._data,y=g.words,x=g.sigBytes,w=this.blockSize,j=w*4,V=x/j;o?V=O.ceil(V):V=O.max((V|0)-this._minBufferSize,0);var W=V*w,Q=O.min(W*4,x);if(W){for(var tt=0;tt<W;tt+=w)this._doProcessBlock(y,tt);p=y.splice(0,W),g.sigBytes-=Q}return new D.init(p,Q)},clone:function(){var o=J.clone.call(this);return o._data=this._data.clone(),o},_minBufferSize:0}),M=X.Hasher=S.extend({cfg:J.extend(),init:function(o){this.cfg=this.cfg.extend(o),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(o){return this._append(o),this._process(),this},finalize:function(o){o&&this._append(o);var p=this._doFinalize();return p},blockSize:512/32,_createHelper:function(o){return function(p,g){return new o.init(g).finalize(p)}},_createHmacHelper:function(o){return function(p,g){return new F.HMAC.init(o,g).finalize(p)}}}),F=K.algo={};return K}(Math);return N})},2316:function(T,b,_){(function(N,O){T.exports=b=O(_(3156))})(this,function(N){return function(O){var G=N,I=G.lib,H=I.WordArray,z=I.Hasher,K=G.algo,X=[],J=[];(function(){function U(M){for(var F=O.sqrt(M),o=2;o<=F;o++)if(!(M%o))return!1;return!0}function B(M){return(M-(M|0))*4294967296|0}for(var f=2,S=0;S<64;)U(f)&&(S<8&&(X[S]=B(O.pow(f,.5))),J[S]=B(O.pow(f,.3333333333333333)),S++),f++})();var D=[],Y=K.SHA256=z.extend({_doReset:function(){this._hash=new H.init(X.slice(0))},_doProcessBlock:function(U,B){for(var f=this._hash.words,S=f[0],M=f[1],F=f[2],o=f[3],p=f[4],g=f[5],y=f[6],x=f[7],w=0;w<64;w++){if(w<16)D[w]=U[B+w]|0;else{var j=D[w-15],V=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,W=D[w-2],Q=(W<<15|W>>>17)^(W<<13|W>>>19)^W>>>10;D[w]=V+D[w-7]+Q+D[w-16]}var tt=p&g^~p&y,nt=S&M^S&F^M&F,Z=(S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22),ut=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),rt=x+ut+tt+J[w]+D[w],ct=Z+nt;x=y,y=g,g=p,p=o+rt|0,o=F,F=M,M=S,S=rt+ct|0}f[0]=f[0]+S|0,f[1]=f[1]+M|0,f[2]=f[2]+F|0,f[3]=f[3]+o|0,f[4]=f[4]+p|0,f[5]=f[5]+g|0,f[6]=f[6]+y|0,f[7]=f[7]+x|0},_doFinalize:function(){var U=this._data,B=U.words,f=this._nDataBytes*8,S=U.sigBytes*8;return B[S>>>5]|=128<<24-S%32,B[(S+64>>>9<<4)+14]=O.floor(f/4294967296),B[(S+64>>>9<<4)+15]=f,U.sigBytes=B.length*4,this._process(),this._hash},clone:function(){var U=z.clone.call(this);return U._hash=this._hash.clone(),U}});G.SHA256=z._createHelper(Y),G.HmacSHA256=z._createHmacHelper(Y)}(Math),N.SHA256})},116:()=>{(function(T,b){"use strict";T=T||"docReady",b=b||window;var _=[],N=!1,O=!1;function G(){if(!N){N=!0;for(var H=0;H<_.length;H++)_[H].fn.call(window,_[H].ctx);_=[]}}function I(){document.readyState==="complete"&&G()}b[T]=function(H,z){if(typeof H!="function")throw new TypeError("callback for docReady(fn) must be a function");if(N){setTimeout(function(){H(z)},1);return}else _.push({fn:H,ctx:z});document.readyState==="complete"||!document.attachEvent&&document.readyState==="interactive"?setTimeout(G,1):O||(document.addEventListener?(document.addEventListener("DOMContentLoaded",G,!1),window.addEventListener("load",G,!1)):(document.attachEvent("onreadystatechange",I),window.attachEvent("onload",G)),O=!0)}})("docReady",window)},477:()=>{}},gt={};function $(T){var b=gt[T];if(b!==void 0)return b.exports;var _=gt[T]={exports:{}};return Lt[T].call(_.exports,_,_.exports,$),_.exports}$.n=T=>{var b=T&&T.__esModule?()=>T.default:()=>T;return $.d(b,{a:b}),b},$.d=(T,b)=>{for(var _ in b)$.o(b,_)&&!$.o(T,_)&&Object.defineProperty(T,_,{enumerable:!0,get:b[_]})},$.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(T){if(typeof window=="object")return window}}(),$.o=(T,b)=>Object.prototype.hasOwnProperty.call(T,b);var Xt={};(()=>{"use strict";var T=$(2316),b=$.n(T);const _=document,N=null,O=()=>{const r=_.createElement("a");return r.href=N.location,r},G=(r,t)=>{const e=_.createElement("img");return e.height=1,e.width=1,e.style.display="none",e.src=r,e.onload=t,e.alt="",_.body.appendChild(e)},I=r=>{const t=_.createElement("iframe");return t.width=1,t.height=1,t.style.display="none",t.src=r,_.body.appendChild(t)},H=(r,t=!0)=>{const e=_.createElement("script");return e.type="text/javascript",e.src=r,e.async=t,_.body.appendChild(e)},z={img:G,script:H,iframe:I},K=(r,t)=>{t||(t=window.location.href),r=r.replace(/[\[\]]/g,"\\$&");let e=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)"),n=e.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},X=r=>{let t="_au_"+r+"=",n=decodeURIComponent(document.cookie).split(";");for(let s=0;s<n.length;s++){let i=n[s];for(;i.charAt(0)==" ";)i=i.substring(1);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null},J=(r,t,e)=>(parseInt(X(r))||0)+t<e,D=r=>{const t=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i;let n=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,s=r.split("."),i=s[s.length-1];(i.length>4||i==="com"||i==="org"||i==="net")&&(n=t);let l=r.match(n);return l?l[0]:r},Y=(r,t)=>{document.cookie="_au_"+r+"="+t+"; domain="+D(document.location.hostname)+"; path=/; max-age=31536000"};function U(r){let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");r||(r=Math.floor(Math.random()*t.length));let e="";for(let n=0;n<r;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function B(){const r=Math.round(Date.now()/1e3);return"AU1S-0100-"+String(r).padStart(12,"0")+"-"+U(8)+"-"+U(4)}function f(r){function t(m,v){var E,A,L,R,P;return L=m&2147483648,R=v&2147483648,E=m&1073741824,A=v&1073741824,P=(m&1073741823)+(v&1073741823),E&A?P^2147483648^L^R:E|A?P&1073741824?P^3221225472^L^R:P^1073741824^L^R:P^L^R}function e(m,v,E,A,L,R,P){return m=t(m,t(t(v&E|~v&A,L),P)),t(m<<R|m>>>32-R,v)}function n(m,v,E,A,L,R,P){return m=t(m,t(t(v&A|E&~A,L),P)),t(m<<R|m>>>32-R,v)}function s(m,v,E,A,L,R,P){return m=t(m,t(t(v^E^A,L),P)),t(m<<R|m>>>32-R,v)}function i(m,v,E,A,L,R,P){return m=t(m,t(t(E^(v|~A),L),P)),t(m<<R|m>>>32-R,v)}function l(m){var v="",E="",A;for(A=0;3>=A;A++)E=m>>>8*A&255,E="0"+E.toString(16),v+=E.substr(E.length-2,2);return v}var a=[],C,k,ot,Rt,u,c,d,h;for(r=function(m){m=m.replace(/\r\n/g,`
`);for(var v="",E=0;E<m.length;E++){var A=m.charCodeAt(E);128>A?v+=String.fromCharCode(A):(127<A&&2048>A?v+=String.fromCharCode(A>>6|192):(v+=String.fromCharCode(A>>12|224),v+=String.fromCharCode(A>>6&63|128)),v+=String.fromCharCode(A&63|128))}return v}(r),a=function(m){var v,E=m.length;v=E+8;for(var A=16*((v-v%64)/64+1),L=Array(A-1),R=0,P=0;P<E;)v=(P-P%4)/4,R=P%4*8,L[v]|=m.charCodeAt(P)<<R,P++;return v=(P-P%4)/4,L[v]|=128<<P%4*8,L[A-2]=E<<3,L[A-1]=E>>>29,L}(r),u=1732584193,c=4023233417,d=2562383102,h=271733878,r=0;r<a.length;r+=16)C=u,k=c,ot=d,Rt=h,u=e(u,c,d,h,a[r+0],7,3614090360),h=e(h,u,c,d,a[r+1],12,3905402710),d=e(d,h,u,c,a[r+2],17,606105819),c=e(c,d,h,u,a[r+3],22,3250441966),u=e(u,c,d,h,a[r+4],7,4118548399),h=e(h,u,c,d,a[r+5],12,1200080426),d=e(d,h,u,c,a[r+6],17,2821735955),c=e(c,d,h,u,a[r+7],22,4249261313),u=e(u,c,d,h,a[r+8],7,1770035416),h=e(h,u,c,d,a[r+9],12,2336552879),d=e(d,h,u,c,a[r+10],17,4294925233),c=e(c,d,h,u,a[r+11],22,2304563134),u=e(u,c,d,h,a[r+12],7,1804603682),h=e(h,u,c,d,a[r+13],12,4254626195),d=e(d,h,u,c,a[r+14],17,2792965006),c=e(c,d,h,u,a[r+15],22,1236535329),u=n(u,c,d,h,a[r+1],5,4129170786),h=n(h,u,c,d,a[r+6],9,3225465664),d=n(d,h,u,c,a[r+11],14,643717713),c=n(c,d,h,u,a[r+0],20,3921069994),u=n(u,c,d,h,a[r+5],5,3593408605),h=n(h,u,c,d,a[r+10],9,38016083),d=n(d,h,u,c,a[r+15],14,3634488961),c=n(c,d,h,u,a[r+4],20,3889429448),u=n(u,c,d,h,a[r+9],5,568446438),h=n(h,u,c,d,a[r+14],9,3275163606),d=n(d,h,u,c,a[r+3],14,4107603335),c=n(c,d,h,u,a[r+8],20,1163531501),u=n(u,c,d,h,a[r+13],5,2850285829),h=n(h,u,c,d,a[r+2],9,4243563512),d=n(d,h,u,c,a[r+7],14,1735328473),c=n(c,d,h,u,a[r+12],20,2368359562),u=s(u,c,d,h,a[r+5],4,4294588738),h=s(h,u,c,d,a[r+8],11,2272392833),d=s(d,h,u,c,a[r+11],16,1839030562),c=s(c,d,h,u,a[r+14],23,4259657740),u=s(u,c,d,h,a[r+1],4,2763975236),h=s(h,u,c,d,a[r+4],11,1272893353),d=s(d,h,u,c,a[r+7],16,4139469664),c=s(c,d,h,u,a[r+10],23,3200236656),u=s(u,c,d,h,a[r+13],4,681279174),h=s(h,u,c,d,a[r+0],11,3936430074),d=s(d,h,u,c,a[r+3],16,3572445317),c=s(c,d,h,u,a[r+6],23,76029189),u=s(u,c,d,h,a[r+9],4,3654602809),h=s(h,u,c,d,a[r+12],11,3873151461),d=s(d,h,u,c,a[r+15],16,530742520),c=s(c,d,h,u,a[r+2],23,3299628645),u=i(u,c,d,h,a[r+0],6,4096336452),h=i(h,u,c,d,a[r+7],10,1126891415),d=i(d,h,u,c,a[r+14],15,2878612391),c=i(c,d,h,u,a[r+5],21,4237533241),u=i(u,c,d,h,a[r+12],6,1700485571),h=i(h,u,c,d,a[r+3],10,2399980690),d=i(d,h,u,c,a[r+10],15,4293915773),c=i(c,d,h,u,a[r+1],21,2240044497),u=i(u,c,d,h,a[r+8],6,1873313359),h=i(h,u,c,d,a[r+15],10,4264355552),d=i(d,h,u,c,a[r+6],15,2734768916),c=i(c,d,h,u,a[r+13],21,1309151649),u=i(u,c,d,h,a[r+4],6,4149444226),h=i(h,u,c,d,a[r+11],10,3174756917),d=i(d,h,u,c,a[r+2],15,718787259),c=i(c,d,h,u,a[r+9],21,3951481745),u=t(u,C),c=t(c,k),d=t(d,ot),h=t(h,Rt);return(l(u)+l(c)+l(d)+l(h)).toLowerCase()}class S{constructor(t){this.pixels=t,this.parameters={sku:"",orderId:"",qty:"",revenue:"",ltv:""}}dropPixel(t,e){const n=this.pixels[t]||[];let s=this.parameters;e&&Object.keys(e).forEach(i=>(s[i]=e[i],!1)),n.forEach(i=>{let l=i,a="img";return typeof i!="string"&&(l=i[0],a=i[1],a||(a="img")),l=l.replace(/\[\[SKU\]\]/g,s.sku),l=l.replace(/\[\[ORDERID\]\]/g,s.orderId),l=l.replace(/\[\[QTY\]\]/g,s.qty),l=l.replace(/\[\[REVENUE\]\]/g,s.revenue),l=l.replace(/\[\[LTV\]\]/g,s.ltv),l=l.replace(/\[\[ITEMS\]\]/g,(s.items||[]).map(C=>C.id||"").join(",")),a==="img"?G(l):a==="script"?H(l):a==="iframe"?I(l):!1})}}class M{constructor(t,e,n){this.w=t,this.partnerId=e,this.taggerId=n,window.aupixels?this.pixels=window.aupixels.ec||{}:this.pixels={},this.ECPixels=new S(this.pixels),this.pageLoadRun=[],window.Adgt||(window.Adgt={}),window.Adgt.VarWatch=function(s,i,l){let a=s[i];function C(){if(s[i]!=a){const k=a;a=s[i],l(k,a)}}return C},window.Adgt.VarHandler=function(s,i){window.au.push({category:"DispatchEvent",eventName:"ProductMetaUpdated"}),clearInterval(window.Adgt.variantInterval)},window.Adgt.SetVarInterval=function(s,i){window.Adgt.variantInterval=setInterval(window.Adgt.VarWatch(s,i,window.Adgt.VarHandler),100)},window.Adgt.Store=this}pathIncludes(t){return window.location.pathname.indexOf(t)!==-1}updatePixels(){this.pixels=window.aupixels.ec||{},this.ECPixels=new S(this.pixels),this.pageLoadRun.forEach(t=>{let e={};t==="add"||t==="view"?e={sku:this.product.id}:t==="checkout"?e={qty:this.qty,revenue:this.revenue}:t==="transaction"&&(e={qty:this.transaction.items.length||this.qty,revenue:this.transaction.revenue||this.revenue,orderId:this.transaction.id}),this.ECPixels.dropPixel(t,e)}),this.pageLoadRun=[]}appendPageLoadPixelCheck(t){this.pageLoadRun.filter(n=>n===t).length||this.pageLoadRun.push(t)}setClassProducts(t){this.products=t,this.qty=t.length,this.revenue=t.reduce((e,n)=>e+parseFloat(n.price),0)}sendAddProductEventToGA(t){this.product=t;try{this.sendAddProductToGA(t),this.w.audGtag("event","add_to_cart",{value:t.price.toFixed(2),items:[t]}),this.ECPixels.dropPixel("add",{sku:t.id,revenue:t.price.toFixed(2)})}catch(e){console.error(e)}}sendViewProductEventToGA(t){this.product=t;try{this.w.audGtag("event","view_promotion",{promotion_id:t.id,promotion_name:t.name,items:[t]}),this.w.audGtag("event","page_view",{page_title:t.id}),this.ECPixels.dropPixel("view",{sku:t.id})}catch(e){console.error(e)}}sendAllProductsInCartToGA(t,e){this.setClassProducts(t);try{for(let n=0;n<t.length;n++){const s=t[n];this.sendAddProductToGA(s)}return e(),!0}catch(n){return!1}}sendCheckoutEventToGA(){try{this.w.audGtag("event","begin_checkout",{currency:"USD",value:this.revenue,items:[this.products]}),this.ECPixels.dropPixel("checkout",{qty:this.qty,revenue:this.revenue})}catch(t){console.error(t)}}sendAllProductsInTransactionToGA(t,e){this.setClassProducts(t);try{for(let n=0;n<t.length;n++){const s=t[n];this.sendAddProductToGA(s)}return e(),!0}catch(n){return!1}}sendAddProductToGA(t){this.w.audGtag("event","add_to_cart",{currency:t.currencyCode,value:t.price*(t.quantity||1),items:[{item_id:t.id,item_name:t.name,index:0,item_brand:t.brand,price:t.price,quantity:t.quantity||1}]})}sendTransactionEventToGA(t){this.transaction=t;try{this.w.audGtag("event","purchase",{currency:t.currencyCode,transaction_id:t.id,value:t.revenue,tax:t.tax,shipping:t.shipping,items:t.items||[]}),this.w.audGtag("event","page_view",{page_title:t.id}),this.ECPixels.dropPixel("transaction",{qty:(t.items||[]).length||this.qty,revenue:t.revenue||this.revenue,orderId:t.id,items:t.items||[],ltv:t.ltv||""})}catch(e){console.error(e)}}profilerServiceRequest(t){window.au.push({category:"sendUserBehaviour",action:JSON.stringify(t)})}sendErrorToSentry(){return!1}}class F extends M{constructor(t,e,n){super(t,e,n),this.brand=window.Shopify.shop}captureProduct(t){try{const e=window.ShopifyAnalytics.meta.selectedVariantId;let n=window.ShopifyAnalytics.meta.product.variants[0];return t?n=window.ShopifyAnalytics.meta.product.variants.find(function(s){return s.public_title===t}):e&&(n=window.ShopifyAnalytics.meta.product.variants.find(function(s){return s.id.toString()===e.toString()})),n||(n=window.ShopifyAnalytics.meta.product.variants[0],n.id=window.ShopifyAnalytics.meta.product.id),{id:`${n.id}-${this.taggerId}`,name:n.name,price:parseInt(n.price,10)/100,brand:this.brand}}catch(e){return console.error(e),null}}sendProductEvents(){const t=this.captureProduct();if(t){this.sendViewProductEventToGA(t),this.appendPageLoadPixelCheck("view");const e=document.querySelector('button[name="add"]')||document.querySelector("form#add-item-form button")||document.querySelector("button.shopify_add_to_cart")||document.querySelector('input[name="add"]')||document.querySelector(".ProductForm__AddToCart")||document.querySelector("#AddToCart")||document.querySelector('.product-add input[type="submit"]');e&&window.au.push({category:"ListenerAttacher",input:e,method:()=>{this.sendAddProductEventToGA(t),window.au.push({category:"behavior",action:"purchase-intent"});const n={event:"addToCart",data:t};this.profilerServiceRequest(n)}})}}captureCart(){try{const e=document.querySelector("#order-summary").querySelectorAll("tr.product"),n=[];for(let s=0;s<e.length;s++){const i=e[s],l=i.dataset.productId,a=i.querySelector(".product__description__name").textContent,C=parseFloat(i.querySelector(".product__price").textContent.replace(/[^0-9.]/g,"")),k=parseInt(i.querySelector(".product__quantity").textContent.replace(/\s+/g,""),10),ot={id:`${l}-${this.taggerId}`,name:a,brand:this.brand,price:C,quantity:k};n.push(ot)}return n}catch(t){return console.error(t),null}}calculateRevenue(t){let e=0;for(let n=0;n<t.length;n++)e+=parseFloat(t[n].price);return e}captureTransaction(){try{const t=window.Shopify.checkout,e=window.Shopify.shop,n=t.order_id,s=parseFloat(t.subtotal_price);let i=0;try{i=parseFloat(t.total_tax)}catch(C){console.error(C)}let l=0;if(t.shipping_rate)try{l=parseFloat(t.shipping_rate)}catch(C){try{l=parseFloat(t.shipping_rate.price)}catch(k){console.error(k)}}const a=this.formatProductsInTransaction(t.line_items);return{id:`${n}-${this.taggerId}`,affiliation:e,revenue:s,tax:i,shipping:l,items:a}}catch(t){return console.error(t),null}}formatProductsInTransaction(t){const e=t,n=[];for(let s=0;s<e.length;s++){const i=e[s],l={id:i.product_id,name:i.title,brand:this.brand,price:parseFloat(i.price),quantity:i.quantity};n.push(l)}return n}initialize(){const t={product:window.ShopifyAnalytics&&window.ShopifyAnalytics.meta&&window.ShopifyAnalytics.meta.product,checkout:window.Shopify.Checkout&&window.Shopify.Checkout.page&&window.Shopify.Checkout.page!=="thank_you",confirmation:window.Shopify.checkout},e=document.querySelectorAll("div.quickadd");if(e.length>0)for(let n=0;n<e.length;n++){const s=e[n],i=s.querySelector("button").dataset.cartAdd;let l=s.querySelector('[class$="item__title"]').textContent;if(s.querySelector(".js-option-value")){const k=s.querySelector(".js-option-value").textContent.split(": ");l+=k[k.length-1]}const a=parseFloat(s.querySelector(".product-price__price").textContent.replace(/[^0-9.]/g,"")),C={id:i,name:l,price:a,brand:this.brand};window.au.push({category:"ListenerAttacher",input:s,method:()=>{this.sendAddProductEventToGA(C);const k={event:"addToCart",data:C};window.au.push({category:"behavior",action:"purchase-intent"}),this.profilerServiceRequest(k)}})}if(t.product){this.sendProductEvents();const n=document.querySelectorAll(".swatch-element");if(n.length>0){window.addEventListener("ProductMetaUpdated",()=>{this.sendProductEvents()});for(let s=0;s<n.length;s++){const i=n[s];window.au.push({category:"ListenerAttacher",input:i,method:()=>{window.Adgt.SetVarInterval(window.ShopifyAnalytics.meta,"selectedVariantId")}})}}}if(t.checkout){const n=this.captureCart();n&&(window.au.push({category:"behavior",action:"checkout"}),this.appendPageLoadPixelCheck("checkout"),this.sendAllProductsInCartToGA(n,()=>this.sendCheckoutEventToGA()))}if(t.confirmation&&window.location.pathname.indexOf("thank_you")!==-1){const n=this.captureTransaction();if(n){const s=n.items;window.au.push({category:"behavior",action:"purchase-complete"}),this.appendPageLoadPixelCheck("transaction"),this.sendAllProductsInTransactionToGA(s,()=>this.sendTransactionEventToGA(n))}else this.transaction={id:`null-${this.taggerId}`,affiliation:this.brand,revenue:0,tax:0,shipping:0,items:[]},this.appendPageLoadPixelCheck("transaction")}}}const o=F,p=60*1e3,g=60*p,y=24*g;function x(r){var t="au/test";try{return r.localStorage.setItem(t,t),r.localStorage.removeItem(t),!0}catch(e){return!1}}class w{constructor(t){this.w=t,this.now=1*new Date,this.useCookie=!x(this.w)}getCookie(t){return X(t)}get(t,e=!1){if(this.useCookie||e)return this.getCookie(t);let n=this.w.localStorage.getItem("au/"+t);if(n){if(n=JSON.parse(n),n.e>this.now)return n.v;this.w.localStorage.removeItem("au/"+t)}return null}setCookie(t,e,n=p){Y(t,e)}set(t,e,n=p,s=!1){this.useCookie||s?this.setCookie(t,e,n):this.w.localStorage.setItem("au/"+t,JSON.stringify({v:e,e:this.now+n}))}}const j=w,V=null,W=null,Q="G-FVWZ0RM4DH",tt=null,nt="https://a.ad.gt",Z="https://p.ad.gt",ut="https://pixels.ad.gt",rt="https://seg.ad.gt",ct="https://ids.ad.gt",vt="https://proton.ad.gt";var yt=r=>{throw TypeError(r)},kt=(r,t,e)=>t.has(r)||yt("Cannot "+e),Ot=(r,t,e)=>t.has(r)?yt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),st=(r,t,e)=>(kt(r,t,"access private method"),e),et,mt,dt,_t;function Gt(r,t){let e=[];try{if(typeof t.featurePolicy=="undefined")return e;"browsingTopics"in t&&t.featurePolicy.allowsFeature("browsing-topics")&&e.push("BT"),"joinAdInterestGroup"in r.navigator&&t.featurePolicy.allowsFeature("join-ad-interest-group")&&e.push("JI"),"runAdAuction"in r.navigator&&t.featurePolicy.allowsFeature("run-ad-auction")&&e.push("RA"),t.featurePolicy.allowsFeature("attribution-reporting")&&e.push("AR")}catch(n){console.error(n)}return e}class Dt{constructor(t,e,n){Ot(this,et),this.w=t,this.d=e,this.auvars=n,this.iframe=null,this.iframeQueue=[],this.iframeReady=!1}run(){let t=new XMLHttpRequest;const e=new URL(`${rt}/api/v2/match`);let n={hostname:this.w.location.hostname,partner_id:this.auvars.p,audigent_id:this.auvars.a};this.auvars.t!=null&&(n.tagger_id=this.auvars.t);let s=D(this.w.location.hostname),i=this;return t.onload=function(){var l;if(t.readyState==XMLHttpRequest.DONE&&t.status==200){const a=JSON.parse(t.response);Array.isArray(a)&&a.length>0?(st(l=i,et,mt).call(l),a.forEach(C=>{var k;C.domain=s,st(k=i,et,dt).call(k,C)})):Array.isArray(a)&&a.length==0?i.w.au.push({partnerId:i.p,category:"sendEvent",event:{type:"empty_seg_array",domain:s}}):i.w.au.push({partnerId:i.p,category:"sendEvent",event:{type:"no_seg_array",domain:s}})}else t.readyState==XMLHttpRequest.DONE&&t.status>200&&i.w.au.push({partnerId:i.p,category:"sendEvent",event:{type:"error_from_seg_service",http_status:t.status,domain:s}})},t.onerror=function(){i.w.au.push({partnerId:i.p,category:"sendEvent",event:{type:"error_calling_seg_service",http_status:t.status,domain:s}})},t.open("POST",e,!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n)),!0}}et=new WeakSet,mt=function(){this.iframe=this.d.createElement("iframe"),this.iframe.style.display="none",this.iframe.src=`${vt}/join-ad-interest-groups.html`,this.iframe.allow="join-ad-interest-group; attribution-reporting",this.iframe.sandbox="allow-scripts allow-same-origin",this.d.body.appendChild(this.iframe);let r=this;this.iframe.onload=()=>{r.iframeReady=!0,r.iframeQueue.forEach(t=>{var e;st(e=r,et,dt).call(e,t)})}},dt=function(r){r.channel="AUPA",r.evid=U(8),this.iframeReady==!1?this.iframeQueue.push(r):(this.iframe.contentWindow.postMessage(r,vt),st(this,et,_t).call(this,r))},_t=function(r){const t=r.evid;switch(r.consumer){case"AUDIGENT":{const e=r.igs.map(n=>n.name);this.w.au.push({partnerId:this.p,category:"sendEvent",event:{type:"join_ad_interest_group",interest_groups:e,event_id:t}})}break;case"YAHOO":case"NEXTROLL":{const e=r.segs;this.w.au.push({partnerId:this.p,category:"sendEvent",event:{type:"external_audience",audiences:e,event_id:t,consumer:r.consumer}});break}default:break}};function wt(r,t,e,n){r.au_seg=e,(n||[]).forEach(i=>i(r,t,e.segments));const s=new CustomEvent("auSegReady",{detail:e});t.dispatchEvent(s)}function Jt(r,t,e){const n=r.apntag;if(typeof n!="undefined"&&typeof n.setPageOpts=="function"){let s={};typeof n.requests!="undefined"&&typeof n.requests.keywords!="undefined"&&(s=n.requests.keywords),s.AUDIGENT=(s.AUDIGENT||[]).concat(e),n.setPageOpts({keywords:s})}}function Qt(r,t,e){r.DTEvent.getEventPromise("dt-connatix-api-ready").then(function([n,s]){n.setMacros({AU_SEG:e})})}function At(r,t,e){r.googletag=r.googletag||{},r.googletag.cmd=r.googletag.cmd||[],r.googletag.cmd.push(function(){r.googletag.pubads().setTargeting("AU_SEG",e)})}function Yt(r,t,e){try{if(r.self!==r.top){At(r.top,t,e);return}}catch(n){}At(r,t,e)}function Kt(r,t,e){t.cookie="au_seg="+e.join("|")+"; domain="+extractDomain(r.location.hostname)+"; path=/; max-age=86400; samesite=None; secure"}function Zt(r,t,e){typeof r.setTargeting=="function"?r.setTargeting("AU_SEG",e):r.console.log("[Audigent] cannot find window.setTargeting function")}var qt=Object.defineProperty,Ht=Object.defineProperties,Ut=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Et=r=>{throw TypeError(r)},Ct=(r,t,e)=>t in r?qt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,q=(r,t)=>{for(var e in t||(t={}))Bt.call(t,e)&&Ct(r,e,t[e]);if(St)for(var e of St(t))Mt.call(t,e)&&Ct(r,e,t[e]);return r},ht=(r,t)=>Ht(r,Ut(t)),lt=(r,t,e)=>t.has(r)||Et("Cannot "+e),Nt=(r,t,e)=>(lt(r,t,"read from private field"),e?e.call(r):t.get(r)),Tt=(r,t,e)=>t.has(r)?Et("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Vt=(r,t,e,n)=>(lt(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Pt=(r,t,e)=>(lt(r,t,"access private method"),e),it,at,pt;const ft=window,bt=document,It={"og:title":"title","og:description":"description","og:image":"image","og:url":"url","og:type":"type","og:name":"name","og:locale":"locale"},xt={description:"description",keywords:"keywords"},$t="meta[name='audigent:tags']";class Ft{constructor(t){Tt(this,at),Tt(this,it);const{auvars:e,decoratorTarget:n,taggerStrategy:s}=t||{};this.w=ft,this.u=bt.location||ft.location,this.d=bt,this.auvars=e,this.dataStore=new j(ft),this.customOptions={},this.isIndexPage=this.u.pathname==="/",this.customTags=[],this.customAttributes={},this.userDefinedTags=[],this.userDefinedAttributes={},this.internalLinks=[],this.GlobalHandlers={},this.randNum=Math.random(),this.decoratorTarget=n||(this.isIndexPage?.95:.97),this.u.hostname.toLowerCase().endsWith("lnk.to")?this.taggerStrategy="FULL_PATH":this.taggerStrategy=s||this.auvars.tgs||"NONE",this.psf=Gt(this.w,this.d),Vt(this,it,new Dt(this.w,this.d,this.auvars,this.dataStore)),this.setupSessionId(),this.setupHadron(),this.setupGA4()}docReady(){if(this.customOptions.autoPageView!==!1&&this.sendPageView(),this.ListenerIterator("a",this.clickHandler),this.w.addEventListener("hashchange",()=>{this.sendSPAPageView({url:this.u.href}),this.pixels()}),window.Shopify){const t=new o(this.w,this.auvars.p,this.auvars.t);t.initialize(),window.addEventListener("aupixels",()=>{t.updatePixels()})}this.psf.includes("JI")&&Nt(this,it).run()}clearOptions(){this.customOptions={}}setOptions(t){const{options:e}=t||{};return typeof e=="object"?(this.customOptions=q(q({},this.customOptions),e),!0):!1}observeDom(t,e,n={childList:!0}){const s=window.MutationObserver||window.WebKitMutationObserver;if(!(!t||t.nodeType!==1))if(s){const i=new s(e);return i.observe(t,n),i}else window.addEventListener&&(t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1))}push(t,e,n){if(typeof t=="string")return e&&e!==this.auvars.p?(console.warn("[Audigent] skip .push("+t+"), p is not a match"),!1):(console.warn('[Audigent] deprecated use of "push": please use .push( object )'),(this[t]||(()=>!1)).call(this,n),!0);if(t&&typeof t=="object"){const{fn:s,category:i,partnerId:l}=t,a=s||i;if(l&&l!==this.auvars.p)return console.warn("[Audigent] skip .push("+a+"), partnerId is not a match"),!1;if(s){const C=t.args;return Array.isArray(C)?(C.map(k=>(this[a]||(()=>!1)).call(this,k)),!0):((this[a]||(()=>!1)).call(this,C),!0)}return(this[a]||(()=>!1)).call(this,t),!0}return console.warn("[Audigent] could not execute the required command: please check your syntax"),!1}setupHadron(){var t;const e=(t=this.w.hadron)==null?void 0:t.id;this.auvars.h=e||null}getAudigentId(t){if(t instanceof Function)return t(this.auvars.a),this.auvars.a;const{callback:e}=t||{};return e instanceof Function&&e(this.auvars.a),this.auvars.a}setupSessionId(){let t=this.dataStore.get("sid");t==null&&(t=B()),this.auvars.s=t,this.dataStore.set("sid",t,30*p)}getTaggerComponents(){return null}setupTaggerId(){const t=this.u.hostname.toLowerCase(),e=this.getTags();let n=this.getTaggerComponents();Array.isArray(n)&&n.length>0||(this.taggerStrategy=="FULL_PATH"?n=[t,this.u.pathname,this.auvars.p]:Array.isArray(e)&&e.length>0?n=[t,"["+e.join(",").toLowerCase()+"]",this.auvars.p]:n=[t,"/",this.auvars.p]);const s=f(n.join("")).toLowerCase();return this.auvars.t=s,this.dataStore.set("tid",s,g),s}getMetaAttributes(){const t=this.d.querySelectorAll("meta");let e={url:this.u.href,title:this.d.title};for(const n of t){let s;const i=n.getAttribute("property");if(i!==void 0)i in It&&(s=It[i]);else{const l=n.getAttribute("name");l in xt&&(s=xt[l])}if(s!==void 0){const l=n.getAttribute("content");l!==void 0&&typeof l=="string"&&(s==="keywords"?e[s]=l.split(",").map(a=>a.trim()).filter(a=>a.length>0):(!(s in e)||e[s].length<l.length)&&(e[s]=l))}}return e}getCustomAttributes(){return{}}getAttributes(){return q(q(q(q({},this.customAttributes),this.userDefinedAttributes),this.getCustomAttributes()),this.getMetaAttributes())}clearAttributes(){this.userDefinedAttributes={}}setAttributes(t){const{attributes:e}=t||{};return typeof e=="object"?(this.userDefinedAttributes=e,!0):!1}addAttributes(t){const{attributes:e}=t||{};return typeof e=="object"?(this.userDefinedAttributes=q(q({},this.userDefinedAttributes),e),!0):!1}getMetaTags(){const t=document.head.querySelectorAll($t)[0];return t?t.content.split("|").map(e=>e.trim()).filter(e=>e.length>0).map(e=>(this.u.hostname+" > "+e).toUpperCase()):[]}getCustomTags(){return[]}getTags(){return[...this.customTags,...this.userDefinedTags,...this.getCustomTags(),...this.getMetaTags()].filter(e=>typeof e=="string"||e instanceof String).map(e=>e.replace(/,/g,"")).map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.toUpperCase())}clearTags(){this.userDefinedTags=[]}setTags(t){const{tags:e}=t||{};return Array.isArray(e)?(this.userDefinedTags=e,!0):typeof e=="string"?(this.userDefinedTags=[e],!0):!1}addTags(t){const{tags:e}=t||{};return Array.isArray(e)?(this.userDefinedTags=[...e,...this.userDefinedTags],!0):typeof e=="string"?(this.userDefinedTags=[e,...this.userDefinedTags],!0):!1}writeDecoratorRecord(t){const{tags:e,decor_dict:n,attributes:s}=t;this.customTags=[...this.customTags,...e||[]],this.customAttributes=q(q(q({},this.customAttributes),n||{}),s||{})}sendDecoratorRecord(){if(!(this.randNum>=this.decoratorTarget))return null;const e=this.getAttributes(),n=this.getTags(),s=ht(q({},e),{tags:n.join(),tagger_id:this.auvars.t,partner_id:this.auvars.p});let i=new XMLHttpRequest,l=`${Z}/api/v1/dec`;return i.open("POST",l,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(s)),i}setupGA4(){if(this.auvars.ga4===!0)try{let t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id="+Q+"&l=audDataLayer",t.async=!0,document.head.appendChild(t);const e=this.w;typeof this.w.audGtag!="function"&&(this.w.audDataLayer=this.w.audDataLayer||[],this.w.audGtag=function(){e.audDataLayer.push(arguments)}),audGtag("js",new Date),audGtag("config",Q,{user_id:this.auvars.a,dimension3:this.auvars.p,dimension4:this.u.hostname,dimension5:this.u.pathname,groups:"audigent",send_page_view:!1})}catch(t){console.error(t)}}ListenerIterator(t,e){Array.prototype.forEach.call(this.d.querySelectorAll(t),n=>{this.ListenerAttacher({input:n,method:e})})}ListenerAttacher(t){const{input:e,method:n}=t;e!=null&&(e.addEventListener?e.addEventListener("mousedown",n.bind(this),!1):e.attachEvent&&e.attachEvent("mousedown",n))}GlobalListenerHandler(t){this.GlobalHandlers[t.type].forEach(e=>{if(t.target.matches(e.selector))e.method(t);else{let n=t.target,s=!1;for(;n.parentElement&&!s;)n=n.parentElement,s=n.matches(e.selector),s&&e.method(ht(q({},t),{target:n}))}})}GlobalListenerAttacher(t,e,n){typeof t=="string"&&(t=[t]),t.forEach(s=>{this.GlobalHandlers[s]=this.GlobalHandlers[s]||[],this.GlobalHandlers[s].push({selector:e,method:n}),document.addEventListener?(document.removeEventListener(s,window.au.l),document.addEventListener(s,window.au.l)):document.attachEvent&&(document.detachEvent(s,window.au.l),document.attachEvent(s,window.au.l))})}sendOffsiteClick(t){const{url:e}=t;G(`${nt}/api/v1/off-site-click/${this.auvars.p}?tagger_id=${this.auvars.t}&url=${e}`)}clickHandler(t){let e=t.currentTarget.getAttribute("href");e!==null&&this.internalLinks.includes(this.u.hostname)&&this.sendSPAPageView({url:e})}sendUserBehaviour(t){const{action:e}=t,n={click_url:e,tagger_id:this.auvars.t,audigent_id:this.auvars.a,partner_id:this.auvars.p},s=new Blob([JSON.stringify(n)],{type:"application/json"});this.w.navigator.sendBeacon(`${Z}/api/v1/ubh`,s)}behavior(t){const e=encodeURIComponent(`${this.u.protocol}//${this.u.hostname}${this.u.pathname}__audigent-behavior-${t.action}${this.u.search}${this.u.hash}`);this.sendOffsiteClick({url:e}),this.sendGAEvent({eventCategory:"audigent-behavior",eventAction:t.action,eventLabel:this.auvars.t})}sendEvent(t){let{event:e,events:n,type:s}=t;if(e=e||n,!e){if(!s)return null;e=q({},t),delete e.category,delete e.partnerId}const i={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,events:Array.isArray(e)?e:[e]};let l=new XMLHttpRequest,a=`${Z}/api/v1/event`;return l.open("POST",a,!0),l.setRequestHeader("Content-type","application/json"),l.send(JSON.stringify(i)),""}sendGAEvent(t){const{eventCategory:e,eventAction:n,eventLabel:s,skipSQS:i}=t;this.auvars.ga4===!0&&audGtag("event",e,{eventAction:n,eventLabel:s}),i||this.sendEvent({event:{type:e,eventAction:n,eventLabel:s}})}sendConsent(t){const{consented:e,consentType:n,consentString:s}=t,i="consent_"+n.toLowerCase(),l=this.dataStore.get("consent_"+t.consentType.toLowerCase());if(l&&s==l)return;const a={audigent_id:this.auvars.a,tagger_id:this.auvars.t,partner_id:this.auvars.p,consented:e,consent_type:n,consent_string:s},C=new Blob([JSON.stringify(a)],{type:"application/json"});return this.w.navigator.sendBeacon(`${Z}/api/v1/con`,C)&&this.dataStore.set(i,s||"n/a",y),""}pixels(){const t=`${ut}/api/v1/getpixels?tagger_id=${this.auvars.t}&url=${encodeURIComponent(this.u.href)}&code='none'`;H(t,!0)}sendSPAPageView(t){let{url:e}=t;if(e){e.startsWith("//")&&(e="http://"+e),(e.startsWith("/")||!e.includes("://"))&&(e=this.u.protocol+"//"+this.u.host+(e.startsWith("/")?"":"/")+e);try{let n=new URL(e);n.host===this.u.host&&(this.sendOffsiteClick(n.href),this.sendPageView())}catch(n){}}}tags(t){return!1}conversion(t){return!1}sendPageView(t){this.randNum=Math.random();const e=this.setupTaggerId(),n=1*new Date,s={event_timestamp:n,url:this.u.href,referrer:this.d.referrer,partner_id:this.auvars.p,tagger_id:this.auvars.t,audigent_id:this.auvars.a,session_id:this.auvars.s,p_s_f:this.psf};this.auvars.h&&(s.hadron_id=this.auvars.h);const i=(t==null?void 0:t.data)||{},l={category:"pageView",version:"v2",created_at:n,properties:q(q({},s),i)};let a=new XMLHttpRequest,C=`${nt}/api/v1/collect`;a.open("POST",C,!0),a.withCredentials=!0,a.setRequestHeader("Content-type","text/plain"),a.send(this.w.btoa(JSON.stringify(l))),this.pixels(),this.sendDecoratorRecord(),this.auvars.ga4===!0&&(audGtag("set",{dimension7:e,send_to:Q}),(this.randNum>=.95||["158"].includes(this.auvars.p.toString())&&this.randNum>=.8||["220"].includes(this.auvars.p.toString())&&this.randNum>=.5)&&audGtag("event","page_view",{dimension7:e,send_to:Q}))}beopEvent(t){const e=t.partnerId||this.auvars.p;this.sendEvent({event:ht(q({},t.data||{}),{partner_id:e,type:"beop"})})}trackEvent(t){return!1}DispatchEvent(t){const{eventName:e}=t,s=(i=>{if(typeof window.CustomEvent=="function")return new CustomEvent(i);const l={bubbles:!1,cancelable:!1,detail:void 0},a=document.createEvent("CustomEvent");return a.initCustomEvent(i,l.bubbles,l.cancelable,l.detail),a})(e);window.dispatchEvent(s)}optout(){G(`${ct}/api/v1/optout?au_id=${this.auvars.a}`)}setupInPageTaxonomy(t){const e=this,n=this.dataStore.get("seg");if(n!=null){wt(e.w,e.d,n,t),Pt(this,at,pt).call(this,n,!0);return}let s=new URL(`${rt}/api/v1/segments`);if(s.searchParams.set("url",encodeURIComponent(this.u.href)),s.searchParams.set("partner_id",this.auvars.p),this.auvars.t!==void 0)s.searchParams.set("tagger_id",this.auvars.t);else{const l=this.setupTaggerId();s.searchParams.set("tagger_id",l)}s.searchParams.set("au_id",this.auvars.a);let i=new XMLHttpRequest;i.timeout=1e4,i.onload=function(){var l;if(i.readyState==XMLHttpRequest.DONE&&i.status==200){const a=JSON.parse(i.response);wt(e.w,e.d,a,t),e.dataStore.set("seg",a,g*6),Pt(l=e,at,pt).call(l,n,!1)}},i.ontimeout=function(){console.log("[Audigent] Taxonomy Service > Timeout")},i.onerror=function(){console.log("[Audigent] Taxonomy Service > Invalid Response")},i.open("GET",s,!0),i.send()}addUserIdentity(t){if(!t)return!1;const{identityType:e,identityValue:n}=t;if(e===void 0||n===void 0)return!1;if(e==="email"){const s=window.btoa(n);return this.sendEvent({event:{type:"e",value:s}})}else return this.sendEvent({event:{type:"u",[e]:n,identityType:e,identityValue:n}})}addUserEmailAddress(t){if(!t)return!1;const{identityValue:e}=t;if(e===void 0)return!1;let n=e.toLowerCase().trim();if(n.endsWith("@gmail.com")){let i=n.split("@")[0];i=i.split("+")[0],i=i.replace(/\./g,""),n=i+"@gmail.com"}const s=b()(n).toString();return this.addUserIdentity({identityType:"hem_sha256",identityValue:s})}addUserProperty(t){if(!t)return!1;const{propertyName:e,propertyValue:n}=t;return e===void 0||n===void 0?!1:e==="email"?this.addUserIdentity({identityType:"email",identityValue:n}):this.sendEvent({event:{type:"user.property",propertyName:e,propertyValue:n}})}}it=new WeakMap,at=new WeakSet,pt=function(r,t){const e=(r==null?void 0:r.segments)||[];if(e.length>0&&this.randNum>=.9){const n={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,segment_ids:e.join("|"),is_cached:t},s=new Blob([JSON.stringify(n)],{type:"application/json"});return this.w.navigator.sendBeacon(`${Z}/api/v1/segs`,s),!0}return!1};const jt=Ft;var te=$(116);function Wt(r,t){const e="788";let n=r.au&&Array.isArray(r.au)?[...r.au]:[];r.auvars.autag_objs=[...(r.auvars.autag_objs||[]).filter(s=>s!=="autag"),"autag"],r.au={push:(...s)=>{r.auvars.autag_objs.forEach(i=>Object.values(r[i]||{}).forEach(l=>l.push(...s)))},l:s=>{r.auvars.autag_objs.forEach(i=>Object.values(r[i]||{}).forEach(l=>l.GlobalListenerHandler(s)))},init:()=>{r.auvars[e].hist=r.auvars[e].hist||[];const s=r.auvars[e].hist.slice(-1)[0];r.autag=r.autag||{},(!r.autag[e]||s!==r.location.href)&&(r.auvars[e].hist.push(r.location.href),r.autag[e]=t({auvars:r.auvars[e]}))}},r.au.init(),n.forEach(s=>r.au.push(s))}docReady(()=>window.au.push({category:"docReady"}));class zt extends jt{getCustomTags(){return[D(this.u.hostname).toUpperCase()]}}(function(r){Wt(r,function(t){return new zt(t)})})(window)})()})();})();